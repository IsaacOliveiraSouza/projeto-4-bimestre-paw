<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>salas</title>
    <script>
        function mostrar(){
            let url = "http://localhost:8080/mostrarMsg"
            let req = new XMLHttpRequest()
            req.open("GET", url, false)
            req.send()
            let res = JSON.parse(req.responseText)
            let div = document.getElementById("msgs")
            let info = res.info
            div.innerHTML=""
            info.map((json, indice)=>{
                div.innerHTML += "<b>" + json.nome + ": </b>"
                div.innerHTML += json.msg + " - "+json.data+"<br>"
                div.innerHTML += "<a href=http://localhost:8080/curtir/"+ json.curtida+"><button>Curtir</button></a><br>"
            })
        }
    </script>

</head>
<body onload="mostrar()">
    <form action="/enviarMsg" method="get">
        <input type="text" placeholder="Mensagem" id="msg" name="msg">
        <button onclick="mostrar()">Enviar</button>
    </form>
    <div id="msgs">

    </div>
</body>
</html>